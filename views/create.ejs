<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fleet Operations Tracker | <%= title %></title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <img src="/img/logo.jpg" alt="Team Logo" />
      <h1>Fleet Operations Tracker</h1>
    </div>
    <nav>
      <a href="/" class="<%= activePage === 'home' ? 'active' : '' %>">Home</a>
      <a href="/create" class="<%= activePage === 'create' ? 'active' : '' %>">Log New Trip</a>
      <a href="/trips" class="<%= activePage === 'trips' ? 'active' : '' %>">View Active Trips</a>
      <a href="/trucks" class="<%= activePage === 'trucks' ? 'active' : '' %>">Tracked Trucks</a>
    </nav>
  </header>

  <main class="page-content">

    <div class="form-container">
        <h2>Log New Trip & Cargo Manifest</h2>
        <p>Enter the trip details, schedule, and cargo manifest.</p>

        <!-- FIXED: Now posts the correct MongoDB fields -->
        <form id="tripLogForm" action="/create" method="POST">

            <h3>Trip Details</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="tripName">Trip / Route Name *</label>
                    <input type="text" id="tripName" name="tripName" required placeholder="e.g., Toronto â†’ Ottawa Delivery Run">
                </div>

                <div class="form-group">
                    <label for="truckId">Truck / Unit ID *</label>
                    <input type="text" id="truckId" name="truckId" required placeholder="e.g., TRK-301">
                </div>
            </div>

            <div class="form-group">
                <label for="driverName">Driver Name *</label>
                <input type="text" id="driverName" name="driverName" required placeholder="e.g., John Smith">
            </div>

            <h3>Schedule</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="scheduledDeparture">Scheduled Departure *</label>
                    <input type="date" id="scheduledDeparture" name="scheduledDeparture" required>
                </div>

                <div class="form-group">
                    <label for="estimatedArrival">Estimated Arrival *</label>
                    <input type="date" id="estimatedArrival" name="estimatedArrival" required>
                </div>
            </div>

            <h3>Cargo Details (Manifest)</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="cargoType">Primary Cargo Type *</label>
                    <select id="cargoType" name="cargoType" required>
                        <option value="">-- Select Cargo Type --</option>
                        <option value="General Freight">General Freight</option>
                        <option value="Refrigerated Goods (Perishables)">Refrigerated Goods (Perishables)</option>
                        <option value="Bulk Liquid">Bulk Liquid</option>
                        <option value="Hazardous Materials">Hazardous Materials</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="weightKg">Total Weight (kg)</label>
                    <input type="number" id="weightKg" name="weightKg" min="0" placeholder="e.g., 25000">
                </div>
            </div>

            <div class="form-group">
                <label for="manifestSummary">Manifest Summary *</label>
                <textarea id="manifestSummary" name="manifestSummary" rows="3" required placeholder="Bill of lading, cargo notes, etc."></textarea>
            </div>

            <div class="form-group" style="text-align: right; padding-top: 15px;">
                <button type="submit" class="submit-btn primary">Log Trip & Create Manifest</button>
            </div>

        </form>
    </div>

  </main>

  <footer>
    <p>&copy; 2025 Fleet Operations Tracker Project. INFR3120.</p>
  </footer>
</body>
</html>
