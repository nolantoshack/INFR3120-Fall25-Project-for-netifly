<!-- This form will call an update function, which you will add to incident_functions.js -->
<!-- NOTE: The JS function 'updateIncident' will need to be updated to target the new '/trucks' API path -->
<form id="editIncidentForm" onsubmit="updateIncident(event)">
    <input type="hidden" id="incidentId" name="id" value="<%= incident.id %>">
    
    <div class="form-group">
        <label for="title">Title / Summary <span class="required-star">*</span></label>
        <!-- NOTE: The 'value' attribute is pre-filled with EJS data -->
        <input type="text" id="title" name="title" required value="<%= incident.title %>">
    </div>

    <div class="form-group">
        <label for="description">Detailed Description <span class="required-star">*</span></label>
        <!-- NOTE: The textarea content is pre-filled with EJS data -->
        <textarea id="description" name="description" rows="4" required><%= incident.description %></textarea>
    </div>

    <div class="form-group">
        <label for="severity">Severity Level</label>
        <select id="severity" name="severity">
            <!-- The current incident data dictates which option is 'selected' -->
            <option value="Critical" <%= incident.severity === 'Critical' ? 'selected' : '' %>>Critical</option>
            <option value="High" <%= incident.severity === 'High' ? 'selected' : '' %>>High</option>
            <option value="Medium" <%= incident.severity === 'Medium' ? 'selected' : '' %>>Medium</option>
            <option value="Low" <%= incident.severity === 'Low' ? 'selected' : '' %>>Low</option>
        </select>
    </div>
    
    <div class="action-buttons">
        <button type="submit" class="submit-btn primary">
            Save Changes
        </button>
        <!-- Updated button text to reflect 'Truck/Unit' -->
        <!-- NOTE: The JS function 'window.deleteIncident' will also need to be updated to target the new '/trucks' API path -->
        <button type="button" onclick="window.deleteIncident('<%= incident.id %>')" class="submit-btn delete-btn">
            Delete Truck/Unit
        </button>
    </div>
</form>
